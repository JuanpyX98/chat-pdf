"use strict";(self.webpackChunkprueba_3=self.webpackChunkprueba_3||[]).push([[3691],{3905:(e,a,t)=>{t.d(a,{Zo:()=>u,kt:()=>v});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=n.createContext({}),c=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},u=function(e){var a=c(e.components);return n.createElement(s.Provider,{value:a},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=c(t),m=r,v=d["".concat(s,".").concat(m)]||d[m]||p[m]||i;return t?n.createElement(v,l(l({ref:a},u),{},{components:t})):n.createElement(v,l({ref:a},u))}));function v(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=t.length,l=new Array(i);l[0]=m;var o={};for(var s in a)hasOwnProperty.call(a,s)&&(o[s]=a[s]);o.originalType=e,o[d]="string"==typeof e?e:r,l[1]=o;for(var c=2;c<i;c++)l[c]=t[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},1257:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var n=t(7462),r=(t(7294),t(3905));const i={title:"Chat PDF API"},l="Chat PDF Api",o={unversionedId:"chat-pdf",id:"chat-pdf",title:"Chat PDF API",description:"Esta API te permite procesar documentos PDF. Dicho procesamiento lo eval\xfaa la IA, la cual devuelve una respuesta a una petici\xf3n de informaci\xf3n de dicho PDF, ya sea res\xfamenes, b\xfasqueda, ideas generales, etc.",source:"@site/docs/chat-pdf.md",sourceDirName:".",slug:"/chat-pdf",permalink:"/docs/chat-pdf",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/chat-pdf.md",tags:[],version:"current",frontMatter:{title:"Chat PDF API"},sidebar:"tutorialSidebar",previous:{title:"Estados de los Mensajes",permalink:"/docs/Whatsapp API/estados-mensajes"}},s={},c=[{value:"Registro",id:"registro",level:2},{value:"Gestor de cuenta",id:"gestor-de-cuenta",level:2},{value:"Consideraciones",id:"consideraciones",level:2},{value:"Integracion de un archivo PDF",id:"integracion-de-un-archivo-pdf",level:2},{value:"Via URL",id:"via-url",level:3},{value:"Body",id:"body",level:4},{value:"Header",id:"header",level:4},{value:"Envio de solicitud",id:"envio-de-solicitud",level:4},{value:"Respuesta",id:"respuesta",level:4},{value:"Via Sistema de Archivos",id:"via-sistema-de-archivos",level:3},{value:"Inicializar el chat",id:"inicializar-el-chat",level:2},{value:"Body",id:"body-1",level:5},{value:"Header",id:"header-1",level:4},{value:"Respuesta",id:"respuesta-1",level:4},{value:"Eliminar el archivo PDF",id:"eliminar-el-archivo-pdf",level:3},{value:"Solicitud",id:"solicitud",level:4},{value:"Respuesta",id:"respuesta-2",level:4}],u={toc:c},d="wrapper";function p(e){let{components:a,...i}=e;return(0,r.kt)(d,(0,n.Z)({},u,i,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"chat-pdf-api"},"Chat PDF Api"),(0,r.kt)("p",null,"Esta API te permite procesar documentos PDF. Dicho procesamiento lo eval\xfaa la IA, la cual devuelve una respuesta a una petici\xf3n de informaci\xf3n de dicho PDF, ya sea res\xfamenes, b\xfasqueda, ideas generales, etc."),(0,r.kt)("h2",{id:"registro"},"Registro"),(0,r.kt)("p",null,"Para comenzar, se requiere una cuenta activa en ",(0,r.kt)("a",{parentName:"p",href:"https://www.chatpdf.com/docs/api/backend"},"chatPDF"),". All\xed podr\xe1s visualizar la documentaci\xf3n original. En la secci\xf3n de inicializaci\xf3n, podr\xe1s observar un bot\xf3n con la denominaci\xf3n 'My Account'."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Principal",src:t(1955).Z,width:"1752",height:"818"})),(0,r.kt)("p",null,"Una vez ejecutado el boton, se le redigir\xe1 a una p\xe1gina para iniciar sesion con sus credenciales de google."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Credenciales",src:t(2304).Z,width:"742",height:"985"})),(0,r.kt)("p",null,"Una vez registrado, se le mostrar un panel donde vera informaci\xf3n sobre planes que le podria interesar, adem\xe1s tambien vera reflejada la api key por el cual podra utilizar para hacer solicitudes al endpoint."),(0,r.kt)("h2",{id:"gestor-de-cuenta"},"Gestor de cuenta"),(0,r.kt)("p",null,"En la interfaz de usuario, podra administrar credenciales, planes, API KEY, uso y limites de servicio, etc."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Interfaz de usuario",src:t(2853).Z,width:"773",height:"831"})),(0,r.kt)("h2",{id:"consideraciones"},"Consideraciones"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Limite de 32MB o 2000 paginas como maximo.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Las solicitudes o preguntas anteriores al actual peticion se borrar\xe1n automaticamente.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"En la cabecera se tiene que especificar el rol, si es usuario o asistente."))),(0,r.kt)("h2",{id:"integracion-de-un-archivo-pdf"},"Integracion de un archivo PDF"),(0,r.kt)("h3",{id:"via-url"},"Via URL"),(0,r.kt)("p",null,"Puedes agregar un archivo PDF cuyo origen se encuentre en la internet, siempre y cuando tenga a disposici\xf3n una URL activa."),(0,r.kt)("p",null,"Ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-plaintext"},"http://biblio3.url.edu.gt/Libros/put_tris.pdf\n")),(0,r.kt)("h4",{id:"body"},"Body"),(0,r.kt)("p",null,"Para agregar un archivo PDF debe colocar en el body el siguiente fragmento:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JSON"},'{\n  "url": "http://biblio3.url.edu.gt/Libros/put_tris.pdf"\n}\n')),(0,r.kt)("h4",{id:"header"},"Header"),(0,r.kt)("p",null,"En este apartado debe indicar el API TOKEN y el formato de solicitud:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JSON"},'{\n    "x-api-key": "sec_xxxxxx", //sec_FesINDXQ7Eu0iuVrFNjPvsjsDhb3Sada24\n    "Content-Type": "application/json",\n  }\n')),(0,r.kt)("h4",{id:"envio-de-solicitud"},"Envio de solicitud"),(0,r.kt)("p",null,"Se debe env\xedar la solicitud con metodo POST, ya que deber\xe1 env\xedar informaci\xf3n a esta URL:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-plaintext"},"https://api.chatpdf.com/v1/sources/add-url\n")),(0,r.kt)("h4",{id:"respuesta"},"Respuesta"),(0,r.kt)("p",null,"La API devolver\xe1 un archivo JSON, el mismo muestra un sourceID que es un id unico del PDF que envi\xf3 en la solicitud, ese id le va a permitir mas adelante recibir informaci\xf3n del PDF mediante la IA en el chat."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JSON"},'{\n    "sourceId": "src_mxy28noYyTWsjuJH3T1XQ"\n}\n')),(0,r.kt)("h3",{id:"via-sistema-de-archivos"},"Via Sistema de Archivos"),(0,r.kt)("p",null,"El proceso es el mismo que el anterior, la diferencia es otorgar al PATH la ruta relativa del archivo PDF."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JSON"},'{\n  "url": "./ruta-relativa"\n}\n')),(0,r.kt)("h2",{id:"inicializar-el-chat"},"Inicializar el chat"),(0,r.kt)("p",null,"Hay que recordar que la conversaci\xf3n, luego de una nueva solicitud, se elimina en memoria la pregunta anterior."),(0,r.kt)("h5",{id:"body-1"},"Body"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JSON"},'{\n  "sourceId": "src_d0wWUeH4X3f1hriiyY30b",\n  "messages": [\n    {\n      "role": "user",\n      "content": "que habla acerca de la vejez y en que paginas aparece esa palabra"\n    }\n  ]\n}\n')),(0,r.kt)("p",null,'Para seguir un lineamiento en la conversaci\xf3n, puede optar por usar un arreglo de objetos en la propiedad "mensaje", siempre y cuando no supere los 2500 tokens (caracteres). Tambi\xe9n existe un l\xedmite de 6 objetos en el arreglo.'),(0,r.kt)("p",null,"Ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JSON"},'{\n  "sourceId": "src_xxxxxx",\n  "messages": [\n    {\n      "role": "user",\n      "content": "How much is the world?"\n    },\n    {\n      "role": "assistant",\n      "content": "The world is 10 dollars."\n    },\n    {\n      "role": "user",\n      "content": "Where can I buy it?"\n    }\n  ]\n}\n')),(0,r.kt)("p",null,"Para recordar, el sourceId lo devuelve el endpoint de la API, solo es un ID del PDF que subi\xf3 anteriormente y que est\xe1 alojado en el servidor de la API."),(0,r.kt)("h4",{id:"header-1"},"Header"),(0,r.kt)("p",null,"El encabezado es el mismo que el caso anterior (subir PDF)."),(0,r.kt)("h4",{id:"respuesta-1"},"Respuesta"),(0,r.kt)("p",null,"La API devolvera el siguiente JSON:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JSON"},'{\n    "content": "La palabra \\"vejez\\" aparece en las p\xe1ginas 6 y 7. Adem\xe1s, el tema principal del texto es la vejez."\n}\n')),(0,r.kt)("h3",{id:"eliminar-el-archivo-pdf"},"Eliminar el archivo PDF"),(0,r.kt)("p",null,"Si deseas eliminar el archivo en el endpoint, haz lo siguiente:"),(0,r.kt)("p",null,"Metodo POST"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-plaintext"},"https://api.chatpdf.com/v1/sources/delete\n")),(0,r.kt)("h4",{id:"solicitud"},"Solicitud"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JSON"},'{ "sources": ["src_xxxxxx"] }\n')),(0,r.kt)("h4",{id:"respuesta-2"},"Respuesta"),(0,r.kt)("p",null,"Confirmaci\xf3n de la eliminaci\xf3n."))}p.isMDXComponent=!0},2304:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/credenciales-2b93d2eb06572fa055ff3b352c8ee772.png"},2853:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/interfaz-4f9f69c17eb61e4b84a77c64452b883a.png"},1955:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/principal-ab0ff9e59d6ae056faab031a0363cc50.png"}}]);